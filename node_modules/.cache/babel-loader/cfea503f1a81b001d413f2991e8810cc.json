{"ast":null,"code":"var _jsxFileName = \"/Users/lchen/Documents/CODE/vizCode/air-pollution/src/App.js\";\n// import sampleData from \"./data/covids.json\";\nimport covidData from \"./data/jan.json\";\nimport React, { useState } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { StaticMap } from \"react-map-gl\";\nimport DeckGL from \"@deck.gl/react\";\nimport { AmbientLight, PointLight, LightingEffect } from \"@deck.gl/core\";\nimport { HexagonLayer } from \"@deck.gl/aggregation-layers\";\nimport { message, Typography } from \"antd\";\nimport { Statistic } from \"antd\";\nimport { Divider } from \"antd\";\nimport { Menu, Dropdown, Button } from \"antd\";\nimport { DownOutlined } from \"@ant-design/icons\"; // import RangeInput from \"./range-input\";\n\nconst {\n  Title,\n  Text\n} = Typography; // Set your mapbox access token here\n\nconst mapboxApiAccessToken = \"pk.eyJ1IjoidmVyYTFrIiwiYSI6ImNrZjQ3aWJoczA4ZGQydm43cXFjcW5peTkifQ.sYJ99dX7B8QyPgV_-TszTA\"; // eslint-disable-line\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\nconst pointLight1 = new PointLight({\n  color: [255, 255, 255],\n  intensity: 0.8,\n  position: [-0.144528, 49.739968, 80000]\n});\nconst pointLight2 = new PointLight({\n  color: [255, 255, 255],\n  intensity: 0.8,\n  position: [-3.807751, 54.104682, 8000]\n});\nconst lightingEffect = new LightingEffect({\n  ambientLight,\n  pointLight1,\n  pointLight2\n});\nconst material = {\n  ambient: 0.64,\n  diffuse: 0.6,\n  shininess: 32,\n  specularColor: [51, 51, 51]\n};\nconst INITIAL_VIEW_STATE = {\n  longitude: 122.0,\n  latitude: 15.0,\n  zoom: 6,\n  minZoom: 2,\n  maxZoom: 15,\n  pitch: 40.5,\n  bearing: -27\n};\nexport const colorRange = [[1, 152, 189], [73, 227, 206], [216, 254, 181], [254, 237, 177], [254, 173, 84], [209, 55, 78]];\n/**\n \n  [${randomData} * x / 255, 120, 255]\n */\n\nexport const heatmapColorRange = [[255, 255, 178], [254, 217, 118], [254, 178, 76], [253, 141, 60], [240, 59, 32], [189, 0, 38]];\n\nfunction getTooltip({\n  object\n}) {\n  if (!object) {\n    return null;\n  }\n\n  console.log(object);\n  const lat = object.position[1];\n  const lng = object.position[0];\n  const airQ = object.colorValue;\n  const infectionCount = object.elevationValue / 1000;\n  return `\\\n    Latitude: ${Number.isFinite(lat) ? lat.toFixed(6) : \"\"}\n    Longitude: ${Number.isFinite(lng) ? lng.toFixed(6) : \"\"}\n    Air Quality: ${airQ} \n    Number of Infections: ${infectionCount} `;\n}\n\nfunction getInfectionsCount(data) {\n  var count = 0;\n\n  for (var i = 0; i < data.length; i++) {\n    count += data[i].infections;\n  }\n\n  return count;\n}\n\nexport default function App({\n  intensity = 1,\n  threshold = 0.1,\n  radiusPixels = 30,\n  mapStyle = \"mapbox://styles/mapbox/dark-v9\",\n  coverage = 1\n}) {\n  const [elevationIndex, setElevationIndex] = useState(\"COVID\");\n  const [pollutant, setPollutant] = useState(\"totalIndex\");\n  const data = covidData;\n  const elevationIndexMenu = /*#__PURE__*/React.createElement(Menu, {\n    onClick: changeElevationIndex,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 120,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"infections\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 121,\n      columnNumber: 7\n    }\n  }, \"Covid-19 Infections\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"Temperatures\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 122,\n      columnNumber: 7\n    }\n  }, \"Temperatures\"));\n\n  function changeElevationIndex(e) {\n    setElevationIndex(e.key);\n    message.success(\"Currently showing: \" + e.key, 1);\n  }\n\n  const pollutantMenu = /*#__PURE__*/React.createElement(Menu, {\n    onClick: changePollutant,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 132,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"totalIndex\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 133,\n      columnNumber: 7\n    }\n  }, \"Total Index\"), \"\\\"\", /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"CO\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 134,\n      columnNumber: 7\n    }\n  }, \"Carbon\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"N_Oxides\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 135,\n      columnNumber: 7\n    }\n  }, \"Nitrogen Oxides\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"CH4\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 136,\n      columnNumber: 7\n    }\n  }, \"Methane\"), /*#__PURE__*/React.createElement(Menu.Item, {\n    key: \"O3\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 137,\n      columnNumber: 7\n    }\n  }, \"Ozone\"));\n\n  function changePollutant(e) {\n    setPollutant(e.key);\n    message.success(\"Currently showing: \" + e.key, 1);\n  }\n\n  const layers = [new HexagonLayer({\n    id: \"hexagon\",\n    colorRange,\n    coverage,\n    data,\n    elevationRange: [0, 200],\n    extruded: true,\n    getElevationValue: d => d.reduce((sum, point) => sum + point[\"Infections\"], 0) * 250,\n    getPosition: d => [d.COORDINATES[0], d.COORDINATES[1]],\n    getColorValue: d => d.reduce((sum, point) => sum + point[\"CO\"], 0) / d.length,\n    pickable: true,\n    radius: 10000,\n    material\n  })];\n  return /*#__PURE__*/React.createElement(\"div\", {\n    className: \"container\",\n    style: {\n      height: \"100vh\",\n      width: \"100vw\",\n      padding: 290,\n      margin: 0\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 165,\n      columnNumber: 5\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      backgroundColor: \"white\",\n      zIndex: \"1000\",\n      position: \"absolute\",\n      marginTop: \"1.0%\",\n      right: \"1.5%\",\n      display: \"flex\",\n      flexDirection: \"column\",\n      height: \"470px\",\n      width: \"340px\",\n      paddingLeft: \"20px\",\n      paddingRight: \"20px\",\n      paddingTop: \"12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 169,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Title, {\n    level: 4,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 185,\n      columnNumber: 9\n    }\n  }, \"USA Air Pollutants vs Covid-19 Infections/Temperature\"), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"center\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 186,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 193,\n      columnNumber: 9\n    }\n  }, \"Air Pollution Safety Index\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"column\",\n      alignItems: \"center\",\n      justifyContent: \"space-evenly\",\n      paddingTop: \"16.66667px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 195,\n      columnNumber: 9\n    }\n  }, colorRange.map(color => /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      width: \"15%\",\n      height: \"18px\",\n      backgroundColor: `rgb(${color[0]}, ${color[1]}, ${color[2]})`\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 205,\n      columnNumber: 17\n    }\n  }))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignItems: \"center\",\n      justifyContent: \"space-between\",\n      paddingTop: \"6px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 214,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 223,\n      columnNumber: 11\n    }\n  }, \"Safe\"), /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 224,\n      columnNumber: 11\n    }\n  }, \"Hazardous\")), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: \"12px\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 226,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Statistic, {\n    title: \"Total Covid-19 Infections: \",\n    value: getInfectionsCount(data),\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 227,\n      columnNumber: 11\n    }\n  })), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 229,\n      columnNumber: 9\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignContent: \"center\",\n      justifyContent: \"space-around\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 230,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      paddingTop: \"24px\",\n      paddingLeft: \"50%\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 238,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(Text, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 239,\n      columnNumber: 11\n    }\n  }, \"View Code:\", \" \", /*#__PURE__*/React.createElement(\"a\", {\n    href: \"https://github.com/Xsort-Programming/one-health-approach\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 241,\n      columnNumber: 13\n    }\n  }, \"GitHub\"))))), /*#__PURE__*/React.createElement(Divider, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 246,\n      columnNumber: 7\n    }\n  }), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      display: \"flex\",\n      flexDirection: \"row\",\n      alignContent: \"center\",\n      justifyContent: \"space-around\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 247,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(Dropdown, {\n    overlay: elevationIndexMenu,\n    placement: \"bottomRight\",\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 255,\n      columnNumber: 11\n    }\n  }, /*#__PURE__*/React.createElement(Button, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 256,\n      columnNumber: 13\n    }\n  }, elevationIndex ? elevationIndex : \" Covid/Temp \", \" \", /*#__PURE__*/React.createElement(DownOutlined, {\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 257,\n      columnNumber: 66\n    }\n  })))), /*#__PURE__*/React.createElement(\"div\", {\n    style: {\n      zIndex: \"-1\"\n    },\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 261,\n      columnNumber: 7\n    }\n  }, /*#__PURE__*/React.createElement(DeckGL, {\n    effects: [lightingEffect],\n    initialViewState: INITIAL_VIEW_STATE,\n    controller: true,\n    layers: layers,\n    getTooltip: getTooltip,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 266,\n      columnNumber: 9\n    }\n  }, /*#__PURE__*/React.createElement(StaticMap, {\n    reuseMaps: true,\n    mapStyle: mapStyle,\n    preventStyleDiffing: true,\n    mapboxApiAccessToken: mapboxApiAccessToken,\n    __self: this,\n    __source: {\n      fileName: _jsxFileName,\n      lineNumber: 273,\n      columnNumber: 11\n    }\n  }))));\n}","map":{"version":3,"sources":["/Users/lchen/Documents/CODE/vizCode/air-pollution/src/App.js"],"names":["covidData","React","useState","StaticMap","DeckGL","AmbientLight","PointLight","LightingEffect","HexagonLayer","message","Typography","Statistic","Divider","Menu","Dropdown","Button","DownOutlined","Title","Text","mapboxApiAccessToken","ambientLight","color","intensity","pointLight1","position","pointLight2","lightingEffect","material","ambient","diffuse","shininess","specularColor","INITIAL_VIEW_STATE","longitude","latitude","zoom","minZoom","maxZoom","pitch","bearing","colorRange","heatmapColorRange","getTooltip","object","console","log","lat","lng","airQ","colorValue","infectionCount","elevationValue","Number","isFinite","toFixed","getInfectionsCount","data","count","i","length","infections","App","threshold","radiusPixels","mapStyle","coverage","elevationIndex","setElevationIndex","pollutant","setPollutant","elevationIndexMenu","changeElevationIndex","e","key","success","pollutantMenu","changePollutant","layers","id","elevationRange","extruded","getElevationValue","d","reduce","sum","point","getPosition","COORDINATES","getColorValue","pickable","radius","height","width","padding","margin","backgroundColor","zIndex","marginTop","right","display","flexDirection","paddingLeft","paddingRight","paddingTop","alignItems","justifyContent","map","alignContent"],"mappings":"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","sourcesContent":["// import sampleData from \"./data/covids.json\";\nimport covidData from \"./data/jan.json\";\nimport React, { useState } from \"react\";\nimport \"antd/dist/antd.css\";\nimport { StaticMap } from \"react-map-gl\";\nimport DeckGL from \"@deck.gl/react\";\nimport { AmbientLight, PointLight, LightingEffect } from \"@deck.gl/core\";\nimport { HexagonLayer } from \"@deck.gl/aggregation-layers\";\nimport { message, Typography } from \"antd\";\nimport { Statistic } from \"antd\";\nimport { Divider } from \"antd\";\nimport { Menu, Dropdown, Button } from \"antd\";\nimport { DownOutlined} from \"@ant-design/icons\";\n\n// import RangeInput from \"./range-input\";\nconst { Title, Text } = Typography;\n\n\n// Set your mapbox access token here\nconst mapboxApiAccessToken =\n  \"pk.eyJ1IjoidmVyYTFrIiwiYSI6ImNrZjQ3aWJoczA4ZGQydm43cXFjcW5peTkifQ.sYJ99dX7B8QyPgV_-TszTA\"; // eslint-disable-line\n\nconst ambientLight = new AmbientLight({\n  color: [255, 255, 255],\n  intensity: 1.0\n});\n\nconst pointLight1 = new PointLight({\n  color: [255, 255, 255],\n  intensity: 0.8,\n  position: [-0.144528, 49.739968, 80000]\n});\n\nconst pointLight2 = new PointLight({\n  color: [255, 255, 255],\n  intensity: 0.8,\n  position: [-3.807751, 54.104682, 8000]\n});   \n\nconst lightingEffect = new LightingEffect({ambientLight, pointLight1, pointLight2});\n\nconst material = {\n  ambient: 0.64,\n  diffuse: 0.6,\n  shininess: 32,\n  specularColor: [51, 51, 51]\n};\n\nconst INITIAL_VIEW_STATE = {\n  longitude: 122.0,\n  latitude: 15.0,\n  zoom: 6,\n  minZoom: 2,\n  maxZoom: 15,\n  pitch: 40.5,\n  bearing: -27\n};\n\nexport const colorRange = [\n  [1, 152, 189],\n  [73, 227, 206],\n  [216, 254, 181],\n  [254, 237, 177],\n  [254, 173, 84],\n  [209, 55, 78]\n];\n/**\n \n  [${randomData} * x / 255, 120, 255]\n */\nexport const heatmapColorRange = [\n  [255, 255, 178],\n  [254, 217, 118],\n  [254, 178, 76],\n  [253, 141, 60],\n  [240, 59, 32],\n  [189, 0, 38],\n];\n\n\nfunction getTooltip({ object }) {\n  if (!object) {\n    return null;\n  }\n  console.log(object);\n  const lat = object.position[1];\n  const lng = object.position[0];\n  const airQ = object.colorValue;\n  const infectionCount = object.elevationValue / 1000;\n\n  return `\\\n    Latitude: ${Number.isFinite(lat) ? lat.toFixed(6) : \"\"}\n    Longitude: ${Number.isFinite(lng) ? lng.toFixed(6) : \"\"}\n    Air Quality: ${airQ} \n    Number of Infections: ${infectionCount} `;\n}\n\n\nfunction getInfectionsCount(data) {\n  var count = 0;\n  for (var i = 0; i < data.length; i++) {\n\n    count += data[i].infections;\n  }\n  return count;\n}\n\nexport default function App({\n  intensity = 1,\n  threshold = 0.1,\n  radiusPixels = 30,\n  mapStyle = \"mapbox://styles/mapbox/dark-v9\",\n  coverage = 1,\n}) {\n  const [elevationIndex, setElevationIndex] = useState(\"COVID\");\n  const [pollutant, setPollutant] = useState(\"totalIndex\");\n  const data = covidData;\n\n  const elevationIndexMenu = (\n    <Menu onClick={changeElevationIndex}>\n      <Menu.Item key=\"infections\">Covid-19 Infections</Menu.Item>\n      <Menu.Item key=\"Temperatures\">Temperatures</Menu.Item>\n    </Menu>\n  )\n  \n  function changeElevationIndex(e) {\n    setElevationIndex(e.key);\n    message.success(\"Currently showing: \" + e.key, 1);\n  }\n\n  const pollutantMenu = (\n    <Menu onClick={changePollutant}>\n      <Menu.Item key=\"totalIndex\">Total Index</Menu.Item>\"\n      <Menu.Item key=\"CO\">Carbon</Menu.Item>\n      <Menu.Item key=\"N_Oxides\">Nitrogen Oxides</Menu.Item>\n      <Menu.Item key=\"CH4\">Methane</Menu.Item>\n      <Menu.Item key=\"O3\">Ozone</Menu.Item>\n    </Menu>\n  )\n\n  function changePollutant(e) {\n    setPollutant(e.key);\n    message.success(\"Currently showing: \" + e.key, 1);\n  }\n\n\n  const layers = [\n          new HexagonLayer({\n          id: \"hexagon\",\n          colorRange,\n          coverage,\n          data,\n          elevationRange: [0, 200],\n          extruded: true,\n          getElevationValue: (d) => d.reduce((sum, point) => sum + point[\"Infections\"], 0) * 250,\n          getPosition: (d) => [d.COORDINATES[0], d.COORDINATES[1]],\n          getColorValue: (d) => ((d.reduce((sum, point) => sum + point[\"CO\"], 0)) / d.length),\n          pickable: true,\n          radius: 10000,\n          material,\n        })\n  ];\n\n  return (\n    <div\n      className=\"container\"\n      style={{ height: \"100vh\", width: \"100vw\", padding: 290, margin: 0 }}\n    >\n      <div\n        style={{\n          backgroundColor: \"white\",\n          zIndex: \"1000\",\n          position: \"absolute\",\n          marginTop: \"1.0%\",\n          right: \"1.5%\",\n          display: \"flex\",\n          flexDirection: \"column\",\n          height: \"470px\",\n          width: \"340px\",\n          paddingLeft: \"20px\",\n          paddingRight: \"20px\",\n          paddingTop: \"12px\",\n        }}\n      >\n        <Title level={4}>USA Air Pollutants vs Covid-19 Infections/Temperature</Title>\n        <div\n          style={{\n            display: \"flex\", \n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"center\",\n          }}>\n        <Text>Air Pollution Safety Index</Text>\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"column\",\n            alignItems: \"center\",\n            justifyContent: \"space-evenly\",\n            paddingTop: \"16.66667px\",\n          }}\n        >\n          {colorRange.map((color) => (\n                <div\n                  style={{\n                    width: \"15%\",\n                    height: \"18px\",\n                    backgroundColor: `rgb(${color[0]}, ${color[1]}, ${color[2]})`,\n                  }}\n                />\n              ))}\n        </div>\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignItems: \"center\",\n            justifyContent: \"space-between\",\n            paddingTop: \"6px\",\n          }}\n        >\n          <Text>Safe</Text>\n          <Text>Hazardous</Text>\n        </div>\n        <div style={{ paddingTop: \"12px\" }}>\n          <Statistic title=\"Total Covid-19 Infections: \" value={getInfectionsCount(data)} />\n        </div>\n        <Divider />\n        <div\n          style={{\n            display: \"flex\",\n            flexDirection: \"row\",\n            alignContent: \"center\",\n            justifyContent: \"space-around\",\n          }}\n        >\n        <div style={{ paddingTop: \"24px\", paddingLeft: \"50%\" }}>\n          <Text>\n            View Code:{\" \"}\n            <a href=\"https://github.com/Xsort-Programming/one-health-approach\">GitHub</a>\n          </Text>\n        </div>\n      </div>\n      </div>\n      <Divider />\n      <div\n        style={{\n          display: \"flex\",\n          flexDirection: \"row\",\n          alignContent: \"center\",\n          justifyContent: \"space-around\",\n        }}\n        >\n          <Dropdown overlay={elevationIndexMenu} placement=\"bottomRight\">\n            <Button>\n              {elevationIndex ? elevationIndex : \" Covid/Temp \"} <DownOutlined />\n            </Button>\n          </Dropdown>\n        </div>\n      <div\n        style={{\n          zIndex: \"-1\",\n        }}\n      >\n        <DeckGL\n          effects={[lightingEffect]}\n          initialViewState={INITIAL_VIEW_STATE}\n          controller={true}\n          layers={layers}\n          getTooltip={getTooltip}\n        >\n          <StaticMap\n            reuseMaps\n            mapStyle={mapStyle}\n            preventStyleDiffing={true}\n            mapboxApiAccessToken={mapboxApiAccessToken}\n          />\n        </DeckGL>\n      </div>\n    </div>\n  );\n}"]},"metadata":{},"sourceType":"module"}